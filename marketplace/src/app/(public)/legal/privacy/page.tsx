import type { Metadata } from "next";

import { Badge } from "@/components/ui/badge";

type Section = {
  title: string;
  description?: string;
  items: string[];
};

const sections: Section[] = [
  {
    title: "Общие положения",
    items: [
      "Настоящая политика описывает, как ООО «Бест Импортед Карс» (B.I.C.) обрабатывает персональные данные при использовании сайта bic.market, калькулятора, Telegram-бота @BIC_auto_bot и форм обратной связи.",
      "Мы действуем как оператор персональных данных. Используя сервисы B.I.C., вы подтверждаете ознакомление с политикой и даёте согласие, когда оно требуется законом.",
    ],
  },
  {
    title: "Данные, которые мы получаем",
    items: [
      "Контактные данные: имя, телефон, email, город, предпочитаемый способ связи из форм, чатов и звонков.",
      "Информация о запросах: желаемая марка и модель, бюджет, комплектация, комментарии, вложения и ссылки, которые вы передаёте менеджеру.",
      "Технические данные: IP-адрес, тип устройства и браузера, версия ОС, часовой пояс, источник перехода, cookie-идентификаторы, язык интерфейса.",
      "События использования: просмотренные страницы и карточки, добавления в избранное, расчёты в калькуляторе, взаимодействие с Telegram-ботом.",
      "Переписка и записи звонков с менеджером — для подтверждения договорённостей и контроля качества обслуживания.",
    ],
  },
  {
    title: "Цели обработки",
    items: [
      "Ответы на заявки, подготовка предложений и расчётов, консультации и сопровождение сделки.",
      "Заключение и исполнение договоров, организация логистики, растаможки, оплаты и выдачи автомобиля.",
      "Улучшение сервисов, аналитика и статистика использования сайта и бота, развитие продукта.",
      "Персонализированные рекомендации, уведомления о статусе заявки и маркетинговые рассылки при наличии согласия.",
      "Обеспечение безопасности сервисов, предотвращение мошенничества, ведение журналов событий.",
      "Выполнение требований законодательства и ответы на запросы госорганов.",
    ],
  },
  {
    title: "Правовые основания",
    items: [
      "Согласие субъекта на обработку данных и получение коммуникаций (ст. 6 Федерального закона «О персональных данных»).",
      "Необходимость заключения и исполнения договоров, а также предварительных действий по запросу пользователя.",
      "Законный интерес B.I.C. (улучшение сервисов, защита прав, обеспечение информационной безопасности) с соблюдением ваших прав и свобод.",
      "Выполнение обязательных требований законодательства: бухгалтерский и налоговый учёт, хранение документов, ответы на обязательные запросы.",
    ],
  },
  {
    title: "Сроки хранения",
    items: [
      "Данные заявок и договоров — на срок сотрудничества и не более 5 лет после его завершения, если иные сроки не установлены законом.",
      "Маркетинговые данные — до отзыва согласия или получения возражения против обработки.",
      "Технические журналы и логи безопасности — до 12 месяцев, если не требуется более длительное хранение для расследования инцидентов.",
      "По истечении сроков данные удаляются или обезличиваются. Резервные копии очищаются в рамках регламентов хранения.",
    ],
  },
  {
    title: "Передача третьим лицам",
    items: [
      "Провайдеры инфраструктуры, аналитики, коммуникаций и CRM, действующие по поручению B.I.C. и обеспечивающие сопоставимый уровень защиты данных.",
      "Партнёры по логистике, экспертизе, страхованию и финансовые организации — в объёме, необходимом для исполнения договора с пользователем.",
      "Государственные органы — при наличии законных оснований или обязательных запросов.",
      "При трансграничной передаче мы выбираем юрисдикции с адекватным уровнем защиты либо обеспечиваем договорные гарантии и дополнительные меры безопасности.",
    ],
  },
  {
    title: "Права пользователя",
    items: [
      "Получать информацию об обработке и копию персональных данных.",
      "Требовать актуализации, исправления или удаления данных, если они больше не нужны для заявленных целей.",
      "Ограничивать обработку, возражать против использования для маркетинга и отзывать ранее выданные согласия.",
      "Запрашивать сведения о передаче третьим лицам и направлять жалобу в Роскомнадзор или в суд.",
    ],
  },
  {
    title: "Cookie и идентификаторы",
    items: [
      "Мы применяем cookie и пиксели для работы сайта, авторизации, сохранения настроек, аналитики и рекламы. Подробности описаны в политике файлов cookie.",
      "Вы можете ограничить использование cookie в настройках браузера. При полном отказе некоторые функции сайта и избранного могут стать недоступны.",
    ],
  },
  {
    title: "Меры безопасности",
    items: [
      "Передача данных защищена TLS; доступ к системам ограничен учётными записями с аудитом действий и принципом минимальных привилегий.",
      "Регулярное резервное копирование, мониторинг событий безопасности и обучение команды обращению с данными.",
      "Хранение документов и носителей в контролируемой среде, использование современных средств защиты инфраструктуры.",
    ],
  },
];

const SectionCard = ({ title, description, items }: Section) => (
  <section className="space-y-3 rounded-[28px] border border-white/10 bg-white/6 p-5 md:p-6">
    <h2 className="text-lg font-semibold text-white">{title}</h2>
    {description ? <p className="text-sm text-white/70">{description}</p> : null}
    <ul className="space-y-2 text-sm text-white/75">
      {items.map((item) => (
        <li key={item} className="flex gap-2">
          <span className="mt-1 inline-flex h-2 w-2 shrink-0 rounded-full bg-brand-primary" />
          <span>{item}</span>
        </li>
      ))}
    </ul>
  </section>
);

export const metadata: Metadata = {
  title: "Политика конфиденциальности | B.I.C.",
  description: "Как B.I.C. обрабатывает и защищает персональные данные пользователей и клиентов.",
};

export default function PrivacyPage() {
  return (
    <div className="mx-auto w-full max-w-[960px] space-y-10 px-6 py-16 text-white">
      <div className="space-y-3">
        <Badge tone="outline">Политика конфиденциальности</Badge>
        <h1 className="text-4xl font-semibold">Как B.I.C. работает с персональными данными</h1>
        <p className="text-sm text-white/70">
          Мы обрабатываем персональные данные, чтобы консультировать клиентов, подбирать и доставлять автомобили. В этой
          политике описано, какие данные мы получаем, для чего их используем и как вы можете управлять их обработкой.
        </p>
        <p className="text-xs text-white/50">Версия: ноябрь 2025</p>
      </div>
      <div className="space-y-5">
        {sections.map((section) => (
          <SectionCard key={section.title} {...section} />
        ))}
      </div>
      <div className="rounded-[28px] border border-brand-primary/35 bg-brand-primary/10 px-5 py-4 text-sm text-white/80 md:px-6 md:py-5">
        <div className="font-semibold text-white">Контакты по персональным данным</div>
        <p className="mt-2">
          Если у вас есть вопросы о политике или вы хотите реализовать своё право на доступ, исправление, удаление или
          отзыв согласия, напишите на{" "}
          <a href="mailto:sales@bic.market" className="text-white hover:underline">
            sales@bic.market
          </a>{" "}
          или позвоните по телефону{" "}
          <a href="tel:+74952600000" className="text-white hover:underline">
            +7 (495) 260-00-00
          </a>
          . Почтовый адрес: 115114, Москва, Дербеневская набережная, 7, стр. 10.
        </p>
      </div>
    </div>
  );
}
